<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ts-kraken</title><meta name="description" content="Documentation for ts-kraken"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">ts-kraken</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>ts-kraken</h2></div><div class="tsd-panel tsd-typography"><div style="display: flex; justify-content: space-between;">
  <img src="media/npm-version-badge.svg" />
  <img src="media/npm-dependencies-badge.svg" />
  <img src="media/npm-devdependencies-badge.svg" />
</div>
<h1 align="center">
  <br>
  <img src="media/ts_kraken_logo.png" width="640px" alt="ts-ts_kraken_logo" />
</h1>
<p><br /><br /></p>
<h4 align="center">A <i>strongly typed library</i> to operate with the <a href="https://kraken.com">Kraken Crypto Exchange</a></h4>
<br />
<p align="center">
  <a href="#-quick-start">Quick-Start</a> •
  <a href="#ℹ%EF%B8%8F-about-this-project">About</a> •
  <a href="#%EF%B8%8F-usage">Usage</a> •
  <a href="#-documentation">Documentation</a> •
  <a href="#-acknowledgments">Acknowledgments</a>
</p>
<p><br /><br /></p>
<a id="md:🚀-quick-start" class="tsd-anchor"></a><h2 class="tsd-anchor-link">🚀 Quick-Start<a href="#md:🚀-quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>
<p>Add the dependency to your js/ts project: <code>npm i ts-kraken</code></p>
</li>
<li>
<p><em>Optionally</em> add <code>KRAKEN_API_KEY</code> and <code>KRAKEN_API_SECRET</code> to your .env (only if you intend to use private methods, i.e. add orders or fetch balances)</p>
</li>
<li>
<p>Test the repl-cli with <code>npx ts-kraken</code> or find code-snippets examples for the methods you want to import in <a href="https://yeikiu.github.io/ts-kraken" target="_blank" class="external">the documentation</a>.</p>
</li>
</ul>
<pre><code class="ts"><span class="hl-0">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">getClosedOrders</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">getWsAuthToken</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">privateWsSubscription</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">publicWsSubscription</span><br/><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;ts-kraken&#39;</span><br/><br/><span class="hl-4">getWsAuthToken</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-2">token</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">({ </span><span class="hl-2">token</span><span class="hl-1"> })</span><br/><br/><span class="hl-1">    </span><span class="hl-6">/* Fetch latest 50 closed orders and logs them */</span><br/><span class="hl-1">    </span><span class="hl-4">getClosedOrders</span><span class="hl-1">().</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-2">lastClosedOrdersArr</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">closedOrders</span><span class="hl-1"> = </span><span class="hl-2">lastClosedOrdersArr</span><span class="hl-1">.</span><span class="hl-4">map</span><span class="hl-1">(</span><br/><span class="hl-1">        ({ </span><span class="hl-2">orderid</span><span class="hl-1">, </span><span class="hl-2">descr</span><span class="hl-1">: { </span><span class="hl-2">order</span><span class="hl-1"> } }) </span><span class="hl-5">=&gt;</span><span class="hl-1"> ({ </span><span class="hl-2">orderid</span><span class="hl-1">, </span><span class="hl-2">order</span><span class="hl-1"> })</span><br/><span class="hl-1">      )</span><br/><br/><span class="hl-1">      </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-4">table</span><span class="hl-1">(</span><span class="hl-2">closedOrders</span><span class="hl-1">)</span><br/><span class="hl-1">    })</span><br/><br/><span class="hl-1">    </span><span class="hl-6">/* Print any updates in the private `balances` channel */</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">balances$</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-4">privateWsSubscription</span><span class="hl-1">(</span><br/><span class="hl-1">      {</span><br/><span class="hl-1">        </span><span class="hl-2">channel:</span><span class="hl-1"> </span><span class="hl-3">&#39;balances&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-2">params:</span><span class="hl-1"> { </span><span class="hl-2">snapshot:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> }</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-2">token</span><br/><span class="hl-1">    ) </span><span class="hl-6">// Pass token here to save time as the library won&#39;t need to fetch one internally!</span><br/><br/><span class="hl-1">    </span><span class="hl-2">balances$</span><span class="hl-1">.</span><span class="hl-4">subscribe</span><span class="hl-1">(({ </span><span class="hl-2">data</span><span class="hl-1"> }) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-4">table</span><span class="hl-1">(</span><span class="hl-2">data</span><span class="hl-1">)</span><br/><span class="hl-1">    })</span><br/><br/><span class="hl-1">    </span><span class="hl-6">/* Track 5m candles updates */</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">fiveMinsBtcUsdCandles$</span><span class="hl-1"> = </span><span class="hl-4">publicWsSubscription</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-2">channel:</span><span class="hl-1"> </span><span class="hl-3">&#39;ohlc&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">params:</span><span class="hl-1"> { </span><span class="hl-2">symbol:</span><span class="hl-1"> [</span><span class="hl-3">&#39;BTC/USD&#39;</span><span class="hl-1">], </span><span class="hl-2">interval:</span><span class="hl-1"> </span><span class="hl-8">5</span><span class="hl-1">, </span><span class="hl-2">snapshot:</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1"> }</span><br/><span class="hl-1">    })</span><br/><br/><span class="hl-1">    </span><span class="hl-2">fiveMinsBtcUsdCandles$</span><span class="hl-1">.</span><span class="hl-4">subscribe</span><span class="hl-1">(</span><br/><span class="hl-1">      ({ </span><span class="hl-2">data</span><span class="hl-1">: [{ </span><span class="hl-2">open</span><span class="hl-1">, </span><span class="hl-2">high</span><span class="hl-1">, </span><span class="hl-2">low</span><span class="hl-1">, </span><span class="hl-2">close</span><span class="hl-1"> }] }) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">({ </span><span class="hl-2">open</span><span class="hl-1">, </span><span class="hl-2">high</span><span class="hl-1">, </span><span class="hl-2">low</span><span class="hl-1">, </span><span class="hl-2">close</span><span class="hl-1"> })</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    )</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-4">catch</span><span class="hl-1">(</span><span class="hl-2">error</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">({ </span><span class="hl-2">error</span><span class="hl-1"> })</span><br/><span class="hl-1">  })</span>
</code><button type="button">Copy</button></pre>

<p><br /><br /></p>
<a id="md:ℹ️-about-this-project" class="tsd-anchor"></a><h2 class="tsd-anchor-link">ℹ️ About this project<a href="#md:ℹ️-about-this-project" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><blockquote>
<p><strong>ts-kraken</strong> is a <strong>strongly-typed</strong> <em>Typescript Library</em> that will help you
operating via code or shell with
<a href="https://kraken.com" target="_blank" class="external">the Kraken Crypto Exchange</a></p>
</blockquote>
<ul>
<li>
<p>Easily operate with Kraken
<a href="https://docs.kraken.com/api/docs/category/rest-api/market-data" target="_blank" class="external">REST</a> and
<a href="https://docs.kraken.com/websockets/" target="_blank" class="external">WebSocketV2</a> APIs</p>
</li>
<li>
<p>Use
<a href="https://yeikiu.github.io/ts-kraken/functions/getClosedOrders.html" target="_blank" class="external"><code>ts-kraken</code> helper methods</a>
to build your own trading bots</p>
</li>
<li>
<p>Subscribe to custom streams of data combining the RxJS Observables returned by
the WebsocketV2 methods</p>
</li>
<li>
<p>Get advantage of modern IDEs Typescript integrations (code autocompletion,
suggested imports, etc.)</p>
</li>
</ul>
<br />
<blockquote>
<p>It also features an <strong>interactive <em>node REPL-cli</em></strong> to operate via
command-shell or leave a socket open printing all updates to the terminal with
a nice <a href="https://jqlang.github.io/jq/" target="_blank" class="external">jq</a> format 🤓</p>
</blockquote>
<ul>
<li>
<p>Kraken UI down durig high traffic or maintenance? You can still use the APIs!</p>
</li>
<li>
<p>Use any of the available REST methods directly from your terminal</p>
</li>
<li>
<p>Print nicely formatted data updates coming directly from WebsocketV2
subscriptions</p>
</li>
</ul>
<p><br /><br /></p>
<a id="md:🛠️-usage" class="tsd-anchor"></a><h2 class="tsd-anchor-link">🛠️ Usage<a href="#md:🛠️-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:use-the-library-in-your-typescriptjs-project" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Use the library in your TypeScript/JS project:<a href="#md:use-the-library-in-your-typescriptjs-project" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><details open><summary>(click to extend 👇)</summary>
<blockquote>
<p>Get <em>IDE code-suggestions</em> for any REST or WS request you need</p>
</blockquote>
<p><code>cd dependant/project/path &amp;&amp; npm i ts-kraken</code></p>
<br />
<p><video src=".github/ts_kraken_ide.mp4" style="width: 100%;" alt="ts_kraken_ide"></video></p>
</details>
<br />
<a id="md:use-the-repl-cli" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Use the REPL-cli<a href="#md:use-the-repl-cli" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><details><summary>(click to extend 👇)</summary>
<blockquote>
<p>You can create a <code>.env</code> file that the repl-cli will try to read from <code>cwd</code>
(current working directory):</p>
</blockquote>
<ul>
<li><code>touch .env</code></li>
</ul>
<p>Use the following format:</p>
<pre><code><span class="hl-1"># .</span><span class="hl-2">env</span><span class="hl-3">&#39;s file content holding your API key/secre</span><span class="hl-9">t</span><br/><br/><span class="hl-7">KRAKEN_API_KEY</span><span class="hl-1">=</span><span class="hl-2">yourApiKey</span><br/><span class="hl-7">KRAKEN_API_SECRET</span><span class="hl-1">=</span><span class="hl-2">yourApiSecret</span>
</code><button>Copy</button></pre>

<br />
<a id="md:launch-the-repl-directly-on-your-terminal-with-npx" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Launch the REPL directly on your terminal with <code>npx</code>:<a href="#md:launch-the-repl-directly-on-your-terminal-with-npx" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><blockquote>
<p>Quickest way to test it! 🚀 (will automatically download the library as a
global npm package if you don't run <code>npm i ts-kraken</code> first)</p>
</blockquote>
<ul>
<li><code>npx ts-kraken</code></li>
</ul>
<br />
<a id="md:set-it-up-in-a-standalone-directory" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Set it up in a standalone directory:<a href="#md:set-it-up-in-a-standalone-directory" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><blockquote>
<p>Recommended if planning to use regularly and/or modify core functionality</p>
</blockquote>
<ul>
<li>
<p><code>git clone https://github.com/yeikiu/ts-kraken</code></p>
</li>
<li>
<p><code>cd ts-kraken</code></p>
</li>
<li>
<p><code>npm i</code></p>
</li>
<li>
<p><code>npm run kraken-repl</code></p>
</li>
</ul>
<blockquote>
<p>Open a PR with any addition/change proposal you have!</p>
</blockquote>
<p><img src="media/ts_kraken_demo.gif" alt="ts_kraken_demo"></p>
<br />
<a id="md:repl-commands" class="tsd-anchor"></a><h4 class="tsd-anchor-link">REPL commands<a href="#md:repl-commands" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><details><summary>(click to extend 👇)</summary>
<blockquote>
<p>The following list includes only a subset sample of all possible commands you
could generate for the .get and .post methods:</p>
</blockquote>
<br />
<pre><code><span class="hl-1">.</span><span class="hl-2">exit</span><span class="hl-1">       👉 </span><span class="hl-2">Exit</span><span class="hl-1"> </span><span class="hl-2">the</span><span class="hl-1"> </span><span class="hl-7">REPL</span><br/><br/><span class="hl-1">-----------------------------------------------------------------------------------------------------------------------------------------------------</span><br/><br/><span class="hl-1">.</span><span class="hl-2">help</span><span class="hl-1">       👉 </span><span class="hl-2">Print</span><span class="hl-1"> </span><span class="hl-5">this</span><span class="hl-1"> </span><span class="hl-2">help</span><span class="hl-1"> </span><span class="hl-2">message</span><br/><br/><span class="hl-1">-----------------------------------------------------------------------------------------------------------------------------------------------------</span><br/><br/><span class="hl-1">.</span><span class="hl-2">get</span><span class="hl-1">        👉 </span><span class="hl-2">Fetch</span><span class="hl-1"> </span><span class="hl-7">PUBLIC</span><span class="hl-1"> </span><span class="hl-7">REST</span><span class="hl-1"> </span><span class="hl-2">data</span><span class="hl-1">.</span><br/><br/><span class="hl-1">            </span><span class="hl-2">Usage</span><span class="hl-1">   &gt;&gt; .</span><span class="hl-2">get</span><span class="hl-1"> &lt;</span><span class="hl-2">PublicEndpoint</span><span class="hl-1">&gt;! &lt;</span><span class="hl-2">paramA</span><span class="hl-1">=</span><span class="hl-2">valueA</span><span class="hl-1">&amp;</span><span class="hl-2">param_list</span><span class="hl-1">[]=</span><span class="hl-2">value1</span><span class="hl-1">&amp;</span><span class="hl-2">param_list</span><span class="hl-1">[]=</span><span class="hl-2">value2</span><span class="hl-1">&gt;? &lt;</span><span class="hl-10">jqFilter</span><span class="hl-1">&gt;? &lt;-</span><span class="hl-10">table</span><span class="hl-1">&gt;?</span><br/><br/><span class="hl-1">            </span><span class="hl-2">i</span><span class="hl-1">.</span><span class="hl-2">e</span><span class="hl-1">.    &gt;&gt; .</span><span class="hl-2">get</span><span class="hl-1"> </span><span class="hl-2">Time</span><span class="hl-1"> .</span><span class="hl-2">rfc1123</span><br/><span class="hl-1">                    &gt;&gt; .</span><span class="hl-2">get</span><span class="hl-1"> </span><span class="hl-2">AssetPairs</span><span class="hl-1"> . </span><span class="hl-2">as</span><span class="hl-1"> </span><span class="hl-2">$base</span><span class="hl-1">|</span><span class="hl-2">keys</span><span class="hl-1">|</span><span class="hl-4">map</span><span class="hl-1">(</span><span class="hl-2">$base</span><span class="hl-1">[.])|</span><span class="hl-4">map</span><span class="hl-1">({</span><span class="hl-2">wsname</span><span class="hl-1">,</span><span class="hl-2">tick_size</span><span class="hl-1">,</span><span class="hl-2">pair_decimals</span><span class="hl-1">,</span><span class="hl-2">ordermin</span><span class="hl-1">}) -</span><span class="hl-2">table</span><br/><span class="hl-1">                    &gt;&gt; .</span><span class="hl-2">get</span><span class="hl-1"> </span><span class="hl-2">AssetPairs</span><span class="hl-1"> </span><span class="hl-2">pair</span><span class="hl-1">=</span><span class="hl-7">BTC</span><span class="hl-1">/</span><span class="hl-7">EUR</span><span class="hl-1"> . </span><span class="hl-2">as</span><span class="hl-1"> </span><span class="hl-2">$base</span><span class="hl-1">|</span><span class="hl-2">keys</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">]|</span><span class="hl-2">$base</span><span class="hl-1">[.]|{</span><span class="hl-2">wsname</span><span class="hl-1">,</span><span class="hl-2">tick_size</span><span class="hl-1">,</span><span class="hl-2">pair_decimals</span><span class="hl-1">,</span><span class="hl-2">ordermin</span><span class="hl-1">}</span><br/><br/><span class="hl-1">-----------------------------------------------------------------------------------------------------------------------------------------------------</span><br/><br/><span class="hl-1">.</span><span class="hl-2">post</span><span class="hl-1">       👉 </span><span class="hl-2">Fetch</span><span class="hl-1"> </span><span class="hl-7">PRIVATE</span><span class="hl-1"> </span><span class="hl-7">REST</span><span class="hl-1"> </span><span class="hl-2">data</span><span class="hl-1">.</span><br/><br/><span class="hl-1">            </span><span class="hl-2">Usage</span><span class="hl-1">   &gt;&gt; .</span><span class="hl-2">post</span><span class="hl-1"> &lt;</span><span class="hl-2">PrivateEndpoint</span><span class="hl-1">&gt;! &lt;</span><span class="hl-2">paramA</span><span class="hl-1">=</span><span class="hl-2">valueA</span><span class="hl-1">&amp;</span><span class="hl-2">param_list</span><span class="hl-1">[]=</span><span class="hl-2">value1</span><span class="hl-1">&amp;</span><span class="hl-2">param_list</span><span class="hl-1">[]=</span><span class="hl-2">value2</span><span class="hl-1">&gt;? &lt;</span><span class="hl-10">jqFilter</span><span class="hl-1">&gt;? &lt;-</span><span class="hl-10">table</span><span class="hl-1">&gt;?</span><br/><br/><span class="hl-1">            </span><span class="hl-2">i</span><span class="hl-1">.</span><span class="hl-2">e</span><span class="hl-1">.    &gt;&gt; .</span><span class="hl-2">post</span><span class="hl-1"> </span><span class="hl-2">OpenOrders</span><span class="hl-1"> .</span><span class="hl-2">open</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-10">$open</span><span class="hl-1">|.</span><span class="hl-10">open</span><span class="hl-1">|</span><span class="hl-10">keys</span><span class="hl-1">|</span><span class="hl-10">map</span><span class="hl-1">(</span><span class="hl-10">$open</span><span class="hl-1">[.].</span><span class="hl-10">descr</span><span class="hl-1">.</span><span class="hl-10">order</span><span class="hl-1">)</span><br/><span class="hl-1">                    &gt;&gt; .</span><span class="hl-2">post</span><span class="hl-1"> </span><span class="hl-2">OpenOrders</span><span class="hl-1"> .</span><span class="hl-2">open</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-10">$open</span><span class="hl-1">|.</span><span class="hl-10">open</span><span class="hl-1">|</span><span class="hl-10">keys</span><span class="hl-1">|</span><span class="hl-10">map</span><span class="hl-1">(</span><span class="hl-10">$open</span><span class="hl-1">[.].</span><span class="hl-10">descr</span><span class="hl-1">) -</span><span class="hl-2">table</span><br/><span class="hl-1">                    &gt;&gt; .</span><span class="hl-2">post</span><span class="hl-1"> </span><span class="hl-2">AddOrder</span><span class="hl-1"> </span><span class="hl-2">ordertype</span><span class="hl-1">=</span><span class="hl-2">market</span><span class="hl-1">&amp;</span><span class="hl-2">type</span><span class="hl-1">=</span><span class="hl-2">sell</span><span class="hl-1">&amp;</span><span class="hl-2">volume</span><span class="hl-1">=</span><span class="hl-8">0.002</span><span class="hl-1">&amp;</span><span class="hl-2">pair</span><span class="hl-1">=</span><span class="hl-7">ETHEUR</span><br/><span class="hl-1">                    &gt;&gt; .</span><span class="hl-2">post</span><span class="hl-1"> </span><span class="hl-2">CancelAll</span><br/><br/><span class="hl-1">-----------------------------------------------------------------------------------------------------------------------------------------------------</span><br/><br/><span class="hl-1">.</span><span class="hl-2">privsub</span><span class="hl-1">    👉 </span><span class="hl-2">Subscribe</span><span class="hl-1"> </span><span class="hl-2">to</span><span class="hl-1"> </span><span class="hl-7">PRIVATE</span><span class="hl-1"> </span><span class="hl-7">WS</span><span class="hl-1"> </span><span class="hl-2">stream</span><span class="hl-1">.</span><br/><br/><span class="hl-1">            </span><span class="hl-2">Usage</span><span class="hl-1">   &gt;&gt; .</span><span class="hl-2">privsub</span><span class="hl-1"> &lt;</span><span class="hl-2">subscriptionName</span><span class="hl-1">&gt;! &lt;</span><span class="hl-2">paramA</span><span class="hl-1">=</span><span class="hl-2">valueA</span><span class="hl-1">&amp;</span><span class="hl-2">param_list</span><span class="hl-1">[]=</span><span class="hl-2">value1</span><span class="hl-1">&amp;</span><span class="hl-2">param_list</span><span class="hl-1">[]=</span><span class="hl-2">value2</span><span class="hl-1">&gt;? &lt;</span><span class="hl-10">jqFilter</span><span class="hl-1">&gt;? &lt;-</span><span class="hl-10">table</span><span class="hl-1">&gt;?</span><br/><br/><span class="hl-1">            </span><span class="hl-2">i</span><span class="hl-1">.</span><span class="hl-2">e</span><span class="hl-1">.    &gt;&gt; .</span><span class="hl-2">privsub</span><span class="hl-1"> </span><span class="hl-2">balances</span><span class="hl-1"> </span><span class="hl-2">snap_orders</span><span class="hl-1">=</span><span class="hl-5">true</span><span class="hl-1"> .</span><span class="hl-2">data</span><span class="hl-1">|</span><span class="hl-4">map</span><span class="hl-1">({ </span><span class="hl-2">asset</span><span class="hl-1">, </span><span class="hl-2">balance</span><span class="hl-1"> }) -</span><span class="hl-2">table</span><br/><span class="hl-1">                    &gt;&gt; .</span><span class="hl-2">privsub</span><span class="hl-1"> </span><span class="hl-2">executions</span><span class="hl-1"> </span><span class="hl-2">snap_orders</span><span class="hl-1">=</span><span class="hl-5">true</span><span class="hl-1"> .</span><span class="hl-2">data</span><span class="hl-1">|</span><span class="hl-4">map</span><span class="hl-1">({</span><span class="hl-2">order_id</span><span class="hl-1">,</span><span class="hl-2">side</span><span class="hl-1">,</span><span class="hl-2">order_qty</span><span class="hl-1">,</span><span class="hl-2">symbol</span><span class="hl-1">,</span><span class="hl-2">order_type</span><span class="hl-1">,</span><span class="hl-2">limit_price</span><span class="hl-1">}) -</span><span class="hl-2">table</span><br/><br/><span class="hl-1">.</span><span class="hl-2">pubsub</span><span class="hl-1">     👉 </span><span class="hl-2">Subscribe</span><span class="hl-1"> </span><span class="hl-2">to</span><span class="hl-1"> </span><span class="hl-7">PUBLIC</span><span class="hl-1"> </span><span class="hl-7">WS</span><span class="hl-1"> </span><span class="hl-2">stream</span><span class="hl-1">.</span><br/><br/><span class="hl-1">            </span><span class="hl-2">Usage</span><span class="hl-1">   &gt;&gt; .</span><span class="hl-2">pubsub</span><span class="hl-1"> &lt;</span><span class="hl-2">subscriptionName</span><span class="hl-1">&gt;! &lt;</span><span class="hl-2">paramA</span><span class="hl-1">=</span><span class="hl-2">valueA</span><span class="hl-1">&amp;</span><span class="hl-2">param_list</span><span class="hl-1">[]=</span><span class="hl-2">value1</span><span class="hl-1">&amp;</span><span class="hl-2">param_list</span><span class="hl-1">[]=</span><span class="hl-2">value2</span><span class="hl-1">&gt;? &lt;</span><span class="hl-10">jqFilter</span><span class="hl-1">&gt;? &lt;-</span><span class="hl-10">table</span><span class="hl-1">&gt;?</span><br/><br/><span class="hl-1">            </span><span class="hl-2">i</span><span class="hl-1">.</span><span class="hl-2">e</span><span class="hl-1">.    &gt;&gt; .</span><span class="hl-2">pubsub</span><span class="hl-1"> </span><span class="hl-2">ticker</span><span class="hl-1"> </span><span class="hl-2">symbol</span><span class="hl-1">[]=</span><span class="hl-7">BTC</span><span class="hl-1">/</span><span class="hl-7">EUR</span><span class="hl-1"> .</span><span class="hl-2">data</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">].</span><span class="hl-2">last</span><br/><span class="hl-1">                    &gt;&gt; .</span><span class="hl-2">pubsub</span><span class="hl-1"> </span><span class="hl-2">ticker</span><span class="hl-1"> </span><span class="hl-2">symbol</span><span class="hl-1">[]=</span><span class="hl-7">BTC</span><span class="hl-1">/</span><span class="hl-7">EUR</span><span class="hl-1">&amp;</span><span class="hl-2">symbol</span><span class="hl-1">[]=</span><span class="hl-7">ADA</span><span class="hl-1">/</span><span class="hl-7">BTC</span><span class="hl-1">&amp;</span><span class="hl-2">symbol</span><span class="hl-1">[]=</span><span class="hl-7">USDT</span><span class="hl-1">/</span><span class="hl-7">USD</span><span class="hl-1"> .</span><span class="hl-2">data</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">]|{</span><span class="hl-2">symbol</span><span class="hl-1">,</span><span class="hl-2">last</span><span class="hl-1">} -</span><span class="hl-2">table</span><br/><br/><span class="hl-1">-----------------------------------------------------------------------------------------------------------------------------------------------------</span><br/><br/><span class="hl-1">.</span><span class="hl-2">setkeys</span><span class="hl-1">    👉 </span><span class="hl-2">Load</span><span class="hl-1"> </span><span class="hl-7">API</span><span class="hl-1"> </span><span class="hl-2">key</span><span class="hl-1">/</span><span class="hl-4">secret</span><span class="hl-1"> (</span><span class="hl-2">non</span><span class="hl-1">-</span><span class="hl-2">persistent</span><span class="hl-1">, </span><span class="hl-2">use</span><span class="hl-1"> </span><span class="hl-2">a</span><span class="hl-1"> .</span><span class="hl-2">env</span><span class="hl-1"> </span><span class="hl-2">file</span><span class="hl-1"> </span><span class="hl-2">to</span><span class="hl-1"> </span><span class="hl-2">reuse</span><span class="hl-1"> </span><span class="hl-2">persistent</span><span class="hl-1"> </span><span class="hl-2">keys</span><span class="hl-1">)</span><br/><br/><span class="hl-1">.</span><span class="hl-2">showkeys</span><span class="hl-1">   👉 </span><span class="hl-2">Display</span><span class="hl-1"> </span><span class="hl-2">current</span><span class="hl-1"> </span><span class="hl-7">API</span><span class="hl-1"> </span><span class="hl-2">key</span><span class="hl-1">/</span><span class="hl-2">secret</span><span class="hl-1"> </span><span class="hl-5">in</span><span class="hl-1"> </span><span class="hl-2">use</span><br/><br/><span class="hl-1">-----------------------------------------------------------------------------------------------------------------------------------------------------</span><br/><br/><span class="hl-1">.</span><span class="hl-2">unsub</span><span class="hl-1">      👉 </span><span class="hl-2">Closes</span><span class="hl-1"> </span><span class="hl-2">WebSocket</span><span class="hl-1"> </span><span class="hl-2">stream</span><span class="hl-1"> </span><span class="hl-2">for</span><span class="hl-1"> </span><span class="hl-7">GIVEN</span><span class="hl-1"> </span><span class="hl-2">subscriptionName</span><span class="hl-1">.</span><br/><br/><span class="hl-1">            </span><span class="hl-2">i</span><span class="hl-1">.</span><span class="hl-2">e</span><span class="hl-1">.    &gt;&gt; .</span><span class="hl-2">unsub</span><span class="hl-1"> </span><span class="hl-2">ticker</span><br/><span class="hl-1">                    &gt;&gt; .</span><span class="hl-2">unsub</span><span class="hl-1"> </span><span class="hl-2">executions</span><br/><br/><span class="hl-1">.</span><span class="hl-2">unsuball</span><span class="hl-1">   👉 </span><span class="hl-2">Closes</span><span class="hl-1"> </span><span class="hl-2">WebSocket</span><span class="hl-1"> </span><span class="hl-2">stream</span><span class="hl-1"> </span><span class="hl-2">for</span><span class="hl-1"> </span><span class="hl-7">ALL</span><span class="hl-1"> </span><span class="hl-2">subscriptions</span><span class="hl-1">.</span><br/><br/><span class="hl-1">            </span><span class="hl-2">i</span><span class="hl-1">.</span><span class="hl-2">e</span><span class="hl-1">.    &gt;&gt; .</span><span class="hl-2">unsuball</span>
</code><button>Copy</button></pre>

</details>
</details>
<p><br /><br /></p>
<a id="md:🔖-documentation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">🔖 Documentation<a href="#md:🔖-documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>
<p><a href="https://yeikiu.github.io/ts-kraken" target="_blank" class="external">ts-kraken Documentation</a></p>
</li>
<li>
<p><a href="https://docs.kraken.com/api/docs/rest-api/add-order" target="_blank" class="external">Kraken REST API docs</a></p>
</li>
<li>
<p><a href="https://docs.kraken.com/api/docs/websocket-v2/add_order" target="_blank" class="external">Kraken WebSocketsV2 API docs</a></p>
</li>
<li>
<p><a href="https://stedolan.github.io/jq/manual" target="_blank" class="external">jq Manual</a></p>
</li>
<li>
<p><a href="https://jqkungfu.com/" target="_blank" class="external">jq Playground</a></p>
</li>
</ul>
<p><br /><br /></p>
<a id="md:🙏-acknowledgments" class="tsd-anchor"></a><h2 class="tsd-anchor-link">🙏 Acknowledgments<a href="#md:🙏-acknowledgments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="https://github.com/trasherdk" target="_blank" class="external">@trasherdk</a> | Contributor</li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:🚀-quick-start"><span>🚀 <wbr/>Quick-<wbr/>Start</span></a><a href="#md:ℹ️-about-this-project"><span>ℹ️ <wbr/>About this project</span></a><a href="#md:🛠️-usage"><span>🛠️ <wbr/>Usage</span></a><ul><li><a href="#md:use-the-library-in-your-typescriptjs-project"><span>Use the library in your <wbr/>Type<wbr/>Script/JS project:</span></a></li><li><a href="#md:use-the-repl-cli"><span>Use the REPL-<wbr/>cli</span></a></li><li><ul><li><a href="#md:launch-the-repl-directly-on-your-terminal-with-npx"><span>Launch the REPL directly on your terminal with npx:</span></a></li><li><a href="#md:set-it-up-in-a-standalone-directory"><span>Set it up in a standalone directory:</span></a></li><li><a href="#md:repl-commands"><span>REPL commands</span></a></li></ul></li></ul><a href="#md:🔖-documentation"><span>🔖 <wbr/>Documentation</span></a><a href="#md:🙏-acknowledgments"><span>🙏 <wbr/>Acknowledgments</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>ts-kraken</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
